# Historical Pricing Recall - Visual Example

## ğŸ–¼ï¸ What Users Will See

### Scenario: Creating a W-Beam Quote

---

## Step 1: User Enters Specifications

**User fills in the form:**
```
W-Beam Configuration:
â”œâ”€ Thickness: 4mm
â”œâ”€ Coating: 120 GSM
â””â”€ [Calculate Weight] âœ“

Post Configuration:
â”œâ”€ Thickness: 4mm
â”œâ”€ Length: 1800mm
â”œâ”€ Coating: 120 GSM
â””â”€ [Calculate Weight] âœ“

Spacer Configuration:
â”œâ”€ Thickness: 4mm
â”œâ”€ Length: 300mm
â”œâ”€ Coating: 120 GSM
â””â”€ [Calculate Weight] âœ“
```

**System Action:** 
- Detects complete specifications
- Automatically queries database in background
- Finds a matching quote from 2 weeks ago

---

## Step 2: Alert Appears

**Blue card appears above Market Pricing section:**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ”  Historical Pricing Found                                  Ã—    â•‘
â•‘      Similar configuration detected                                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                     â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚  Last time you priced this configuration at                 â”‚  â•‘
â•‘  â”‚  â‚¹1,234.56/rm on Nov 21, 2024                              â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                     â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚  AI Suggested (Last Time)  â”‚  â”‚  Win Probability           â”‚  â•‘
â•‘  â”‚  â‚¹1,200.00                 â”‚  â”‚  75%                       â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                     â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚  âœ“ Apply Previous Price              â”‚  â”‚  Ignore          â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Visual Styling:**
- **Background:** Gradient blue (`from-blue-900/40 to-blue-800/40`)
- **Border:** 2px solid blue with 50% opacity
- **Shadow:** Soft glow effect
- **Animation:** Smooth fade-in (0.3s)

---

## Step 3: User Interaction

### Option A: User Clicks "Apply Previous Price"

**What Happens:**

1. **System calculates:**
   ```
   Historical Price: â‚¹1,234.56/rm
   Fixed Costs:
   â”œâ”€ Transportation: â‚¹50.00/rm
   â”œâ”€ Installation: â‚¹75.00/rm
   â”œâ”€ Pole Cost: â‚¹100.00/rm
   â””â”€ Fabrication: â‚¹25.00/rm
   Total Fixed: â‚¹250.00/rm
   
   Target Material Cost: â‚¹1,234.56 - â‚¹250.00 = â‚¹984.56/rm
   
   Total Weight: 12.5 kg/rm
   Required Rate: â‚¹984.56 / 12.5 = â‚¹78.76/kg
   ```

2. **System updates:**
   ```
   Rate Per Kg: â‚¹78.76  â† Auto-filled
   
   Material Cost: â‚¹984.56/rm
   + Transportation: â‚¹50.00/rm
   + Installation: â‚¹75.00/rm
   + Pole Cost: â‚¹100.00/rm
   + Fabrication: â‚¹25.00/rm
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Total Cost: â‚¹1,234.56/rm  â† Matches historical price!
   ```

3. **User sees toast notification:**
   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  âœ“  Applied historical price of â‚¹1,234.56/rm â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```

4. **Alert remains visible** (can be dismissed with Ã— or "Ignore")

---

### Option B: User Clicks "Ignore"

**What Happens:**

1. **Alert disappears** (smooth fade-out)
2. **User continues** with manual pricing
3. **No changes** to form fields

---

### Option C: User Clicks "Ã—" (Dismiss)

**What Happens:**

1. **Alert disappears** (smooth fade-out)
2. **Same as "Ignore"**

---

## Step 4: After Applying

**Form state after applying historical price:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pricing Calculation                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Rate Per Kg: â‚¹78.76  â† Auto-calculated                   â”‚
â”‚                                                             â”‚
â”‚  Material Cost: â‚¹984.56/rm                                 â”‚
â”‚  + Transportation: â‚¹50.00/rm                               â”‚
â”‚  + Installation: â‚¹75.00/rm                                 â”‚
â”‚  + Pole Cost: â‚¹100.00/rm                                   â”‚
â”‚  + Fabrication: â‚¹25.00/rm                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚
â”‚  Total Cost: â‚¹1,234.56/rm  âœ“                              â”‚
â”‚                                                             â”‚
â”‚  Quantity: 1000 rm                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚
â”‚  Final Total: â‚¹12,34,560.00                                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User can now:**
- Adjust the rate if needed
- Continue with quotation
- Save or generate PDF

---

## ğŸ¨ Color Scheme

```css
/* Alert Card */
background: linear-gradient(to bottom right, 
            rgba(30, 58, 138, 0.4),    /* blue-900/40 */
            rgba(30, 64, 175, 0.4));   /* blue-800/40 */
border: 2px solid rgba(59, 130, 246, 0.5);  /* blue-500/50 */
box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);

/* Header */
title-color: #ffffff;                   /* white */
subtitle-color: #bfdbfe;                /* blue-200 */

/* Main Message Box */
background: rgba(255, 255, 255, 0.1);   /* white/10 */
text-color: #ffffff;                    /* white */
price-color: #93c5fd;                   /* blue-300 */

/* Info Cards */
background: rgba(255, 255, 255, 0.05);  /* white/5 */
label-color: #94a3b8;                   /* slate-400 */
value-color: #4ade80 (AI Price);        /* green-400 */
value-color: #facc15 (Win Prob);        /* yellow-400 */

/* Buttons */
apply-button: linear-gradient(to right,
              #2563eb,                  /* blue-600 */
              #1d4ed8);                 /* blue-700 */
ignore-button: #334155;                 /* slate-700 */
```

---

## ğŸ“± Responsive Design

### Desktop View (> 768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”  Historical Pricing Found                          Ã—    â”‚
â”‚      Similar configuration detected                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Last time you priced this configuration at                 â”‚
â”‚  â‚¹1,234.56/rm on Nov 21, 2024                              â”‚
â”‚                                                             â”‚
â”‚  [AI Suggested: â‚¹1,200.00]  [Win Probability: 75%]        â”‚
â”‚                                                             â”‚
â”‚  [âœ“ Apply Previous Price]  [Ignore]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile View (< 768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”  Historical Pricing     Ã—   â”‚
â”‚      Found                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Last time you priced this      â”‚
â”‚  configuration at               â”‚
â”‚  â‚¹1,234.56/rm                  â”‚
â”‚  on Nov 21, 2024               â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ AI Suggested              â”‚ â”‚
â”‚  â”‚ â‚¹1,200.00                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Win Probability           â”‚ â”‚
â”‚  â”‚ 75%                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ“ Apply Previous Price    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Ignore                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ Animation Sequence

### Alert Appearance (0.3s)
```
Frame 1 (0.0s):  opacity: 0, translateY: -10px
Frame 2 (0.15s): opacity: 0.5, translateY: -5px
Frame 3 (0.3s):  opacity: 1, translateY: 0px
```

### Button Hover Effect (0.2s)
```
Normal:  background: blue-600
Hover:   background: blue-700, scale: 1.02
```

### Alert Dismissal (0.2s)
```
Frame 1 (0.0s):  opacity: 1, height: auto
Frame 2 (0.1s):  opacity: 0.5, height: auto
Frame 3 (0.2s):  opacity: 0, height: 0
```

---

## ğŸ”” Toast Notification

**Success Toast (after applying):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ“  Applied historical price of â‚¹1,234.56/rm        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Error Toast (if price too low):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ—  Cannot apply historical price - it is lower     â”‚
â”‚     than fixed costs                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Styling:**
- **Success:** Green background, white text, checkmark icon
- **Error:** Red background, white text, X icon
- **Duration:** 3 seconds
- **Position:** Top-right corner
- **Animation:** Slide in from right, fade out

---

## ğŸ¯ User Flow Summary

```
1. User enters specs
        â†“
2. System finds match
        â†“
3. Alert appears
        â†“
4. User decides:
   â”œâ”€ Apply â†’ Pricing auto-fills â†’ Success toast â†’ Continue
   â””â”€ Ignore â†’ Alert disappears â†’ Manual pricing â†’ Continue
```

---

## ğŸ’¡ Key UX Principles

1. **Non-Intrusive:** Alert doesn't block the form or require immediate action
2. **Informative:** Shows all relevant historical data at a glance
3. **Flexible:** User can apply, ignore, or dismiss at any time
4. **Fast:** One-click application of historical pricing
5. **Transparent:** Clear display of what price was used and when
6. **Helpful:** Includes AI insights to aid decision-making
7. **Dismissible:** Easy to close if not needed

---

**Status:** âœ… Fully Implemented  
**Last Updated:** December 5, 2024

